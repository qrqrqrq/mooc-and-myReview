<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
        <title>lesson 29</title>
        <style></style>
        <script src="https://unpkg.com/vue@next"></script>
    </head>
    <body>
        <div id="root"></div>
    </body>
    <script>
        // 自定义指令 directive

        const app = Vue.createApp({
            // 操作dom，不能复用
            // mounted() {
            //     this.$refs.input.focus();
            // },
            data() {
                return {
                    hellp: true,
                };
            },

            // v-focus使用自定义全局指令
            template: `
                    <div>
                        <div v-show="hello">
                        <input v-focus/>
                        </div>
                    </div>
        `,
        });

        // 定义一个全局自定义指令
        app.directive("focus", {
            beforeMount(el) {
                console.log("beforeMount");
            },
            mounted(el) {
                console.log("mounted");
                el.focus();
            },
            beforeUpdate() {
                console.log("beforeUpdate");
            },
            updated() {
                console.log("updated");
            },
            beforeUnmount() {
                console.log("beforeUnmount");
            },
            unmounted() {
                console.log("unmounted");
            },
        });

        const vm = app.mount("#root");

        // 定义一个局部自定义指令
        // const directives = {
        //     focus: {
        //         mounted(el) {
        //             el.focus();
        //         },
        //     },
        // };
        // const app = Vue.createApp({
        //     // v-focus使用局部自定义指令
        //     directives: directives,
        //     template: `
        //             <div>
        //                 <input v-focus/>
        //             </div>
        // `,
        // });

        // const vm = app.mount("#root");
    </script>
</html>
